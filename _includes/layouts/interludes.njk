---
layout: layouts/base.njk
---
<div class="interlude-index">
  <h2>Index</h2>
  <ol>
  {% for year, posts in collections.interludesByYear %}
    <li class="interlude-index-yearlist">
      <div>{{ year }}:</div>
      <ol>
      {% for post in posts %}
        <li><a href="#{{ post.date | htmlDateString }}">{{ post.date | shortDate }}</a></li>
      {% endfor %}
      </ol>
    </li>
  {% endfor %}
  </ol>
</div>

<div class="interlude-list">
{% for post in collections.interludes %}
  <sidenote-container-element class="interlude-item" id="{{ post.date | htmlDateString }}" lang="{{ post.data.lang }}">
    <time class="interlude-date" datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate }}</time>
    {{ post.templateContent | safe }}
  </sidenote-container-element>

  {# {% else %}
  <section class="interlude-item" id="{{ post.date | htmlDateString }}">
    <time class="interlude-date" datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate }}</time>
    <div class="lang-switch">[{% set langs = post.data.lang %}{% for lang in langs %}{% set tabid = (post.date | htmlDateString) + "-" + lang %}<input type="radio" name="tabs" id="{{ tabid }}" {% if loop.first %}checked{% endif %}/><label for="{{ tabid }}" onclick="switchLang('{{ lang }}', this)">{{ lang | upper }}</label>{% if loop.last == false %}/{% endif %}{% endfor %}]</div>
    {{ post.templateContent | safe }}
  </section>
  {% endif %} #}

  {% if loop.last == false %}<hr />{% endif %}
{% endfor %}
</div>